<div data-variant-id="{{ product.selected_or_first_available_variant.id }}" class="embla__slide custom-product-card flex flex-col justify-between bg-white relative">
  <a
    href="{{ product.url }}"
    class="flex flex-col md:w-full"
  >
    <div class="relative h-fit w-full bg-[#f4f4f4] py-6 rounded-[10px] pt-12">
      <img loading="lazy"
        class="w-full w-full rounded-[15px] object-contain max-h-[180px] mix-blend-darken"
        src="{{ product.featured_image | img_url: 'master' }}"
      >
      {% assign remainder = forloop.index | modulo: 2 %}
      {% if remainder == 1 %}
      <div class="top-0 bg-white rounded-[0px_0px_6px_6px] text-black text-xs font-bold text-center left-1/2 -translate-x-1/2 absolute w-full max-w-[130px] py-1">
        ðŸš€ Selling fast
      </div>
      {% endif %}
    </div>
    <div>
      {% liquid
      
        if product.compare_at_price != blank and product.compare_at_price != 0 and product.compare_at_price != product.price
          assign sale = true
        else
          assign sale = false
        endif

      %}


      <svg class="mt-3" width="86" height="15" viewBox="0 0 86 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.71468 1.37811C6.80449 1.10172 7.19551 1.10172 7.28532 1.37812L8.50424 5.12959C8.54441 5.25319 8.65959 5.33688 8.78956 5.33688H12.7341C13.0247 5.33688 13.1455 5.70877 12.9104 5.87959L9.71923 8.19812C9.61409 8.27452 9.57009 8.40993 9.61025 8.53353L10.8292 12.285C10.919 12.5614 10.6026 12.7912 10.3675 12.6204L7.17634 10.3019C7.07119 10.2255 6.92881 10.2255 6.82366 10.3019L3.63247 12.6204C3.39736 12.7912 3.08101 12.5614 3.17082 12.285L4.38975 8.53353C4.42991 8.40993 4.38591 8.27452 4.28077 8.19812L1.08957 5.87959C0.854459 5.70877 0.975292 5.33688 1.26591 5.33688H5.21044C5.34041 5.33688 5.45559 5.25319 5.49576 5.12959L6.71468 1.37811Z" fill="#FFC632"/>
        <path d="M24.7147 1.37811C24.8045 1.10172 25.1955 1.10172 25.2853 1.37812L26.5042 5.12959C26.5444 5.25319 26.6596 5.33688 26.7896 5.33688H30.7341C31.0247 5.33688 31.1455 5.70877 30.9104 5.87959L27.7192 8.19812C27.6141 8.27452 27.5701 8.40993 27.6103 8.53353L28.8292 12.285C28.919 12.5614 28.6026 12.7912 28.3675 12.6204L25.1763 10.3019C25.0712 10.2255 24.9288 10.2255 24.8237 10.3019L21.6325 12.6204C21.3974 12.7912 21.081 12.5614 21.1708 12.285L22.3897 8.53353C22.4299 8.40993 22.3859 8.27452 22.2808 8.19812L19.0896 5.87959C18.8545 5.70877 18.9753 5.33688 19.2659 5.33688H23.2104C23.3404 5.33688 23.4556 5.25319 23.4958 5.12959L24.7147 1.37811Z" fill="#FFC632"/>
        <path d="M42.7147 1.37811C42.8045 1.10172 43.1955 1.10172 43.2853 1.37812L44.5042 5.12959C44.5444 5.25319 44.6596 5.33688 44.7896 5.33688H48.7341C49.0247 5.33688 49.1455 5.70877 48.9104 5.87959L45.7192 8.19812C45.6141 8.27452 45.5701 8.40993 45.6103 8.53353L46.8292 12.285C46.919 12.5614 46.6026 12.7912 46.3675 12.6204L43.1763 10.3019C43.0712 10.2255 42.9288 10.2255 42.8237 10.3019L39.6325 12.6204C39.3974 12.7912 39.081 12.5614 39.1708 12.285L40.3897 8.53353C40.4299 8.40993 40.3859 8.27452 40.2808 8.19812L37.0896 5.87959C36.8545 5.70877 36.9753 5.33688 37.2659 5.33688H41.2104C41.3404 5.33688 41.4556 5.25319 41.4958 5.12959L42.7147 1.37811Z" fill="#FFC632"/>
        <path d="M60.7147 1.37811C60.8045 1.10172 61.1955 1.10172 61.2853 1.37812L62.5042 5.12959C62.5444 5.25319 62.6596 5.33688 62.7896 5.33688H66.7341C67.0247 5.33688 67.1455 5.70877 66.9104 5.87959L63.7192 8.19812C63.6141 8.27452 63.5701 8.40993 63.6103 8.53353L64.8292 12.285C64.919 12.5614 64.6026 12.7912 64.3675 12.6204L61.1763 10.3019C61.0712 10.2255 60.9288 10.2255 60.8237 10.3019L57.6325 12.6204C57.3974 12.7912 57.081 12.5614 57.1708 12.285L58.3897 8.53353C58.4299 8.40993 58.3859 8.27452 58.2808 8.19812L55.0896 5.87959C54.8545 5.70877 54.9753 5.33688 55.2659 5.33688H59.2104C59.3404 5.33688 59.4556 5.25319 59.4958 5.12959L60.7147 1.37811Z" fill="#FFC632"/>
        <path d="M78.7147 1.37811C78.8045 1.10172 79.1955 1.10172 79.2853 1.37812L80.5042 5.12959C80.5444 5.25319 80.6596 5.33688 80.7896 5.33688H84.7341C85.0247 5.33688 85.1455 5.70877 84.9104 5.87959L81.7192 8.19812C81.6141 8.27452 81.5701 8.40993 81.6103 8.53353L82.8292 12.285C82.919 12.5614 82.6026 12.7912 82.3675 12.6204L79.1763 10.3019C79.0712 10.2255 78.9288 10.2255 78.8237 10.3019L75.6325 12.6204C75.3974 12.7912 75.081 12.5614 75.1708 12.285L76.3897 8.53353C76.4299 8.40993 76.3859 8.27452 76.2808 8.19812L73.0896 5.87959C72.8545 5.70877 72.9753 5.33688 73.2659 5.33688H77.2104C77.3404 5.33688 77.4556 5.25319 77.4958 5.12959L78.7147 1.37811Z" fill="#FFC632"/>
      </svg>        
      <h3 class="my-1 text-base font-bold">{{ product.title | truncate: 60 }}</h3>

      <div class="border-t border-solid border-[#d5d5d5] pt-2">
        <span class="text-xs text-[#7c7c7c]">Price</span>
        <div class="flex items-end gap-2">
          <div class="text-lg font-bold {% if sale %} text-black {% else %} text-black {% endif %}">
            {{ product.price | money }}
          </div>
          {% if sale %}
          <div class="text-base text-[#8f8f8f] font-medium">
            {{ product.compare_at_price | money }}
          </div>
          {% endif %}
        </div>

        {% if product.compare_at_price > product.price %}
          {% assign difference = product.compare_at_price | minus: product.price %}
          {% assign percentage = difference | times: 100 | divided_by: product.compare_at_price %}
          <div class="custom-sale-badge absolute right-0 bottom-0 bg-[#fa0001] text-xs text-white px-2.5 py-0.5 rounded-[12px_0px_12px_0px]">
            Save {{ percentage | round }}%
          </div>
        {% endif %}    
      </div>
    </div>
  </a>
</div>